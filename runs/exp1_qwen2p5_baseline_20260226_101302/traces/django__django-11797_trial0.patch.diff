diff --git a/tests/str/tests.py b/tests/str/tests.py
index 181906fa0d..6eca1948c4 100644
--- a/tests/str/tests.py
+++ b/tests/str/tests.py
@@ -7,12 +7,19 @@ from django.test.utils import isolate_apps
 from .models import InternationalArticle
 
 
-class SimpleTests(TestCase):
-
-    def test_international(self):
+from django.db.models import Max
+from django.contrib.auth import models
         a = InternationalArticle.objects.create(
             headline='Girl wins €12.500 in lottery',
             pub_date=datetime.datetime(2005, 7, 28)
+a = models.User.objects.filter(email__isnull=True).values('email').annotate(m=Max('id')).values('m')
+print(a.query) # good
+# SELECT MAX("auth_user"."id") AS "m" FROM "auth_user" WHERE "auth_user"."email" IS NULL GROUP BY "auth_user"."email"
+print(a[:1].query) # good
+# SELECT MAX("auth_user"."id") AS "m" FROM "auth_user" WHERE "auth_user"."email" IS NULL GROUP BY "auth_user"."email" LIMIT 1
+b = models.User.objects.filter(id=a[:1])
+print(b.query) # GROUP BY U0."id" should be GROUP BY U0."email"
+# SELECT ... FROM "auth_user" WHERE "auth_user"."id" = (SELECT U0."id" FROM "auth_user" U0 WHERE U0."email" IS NULL GROUP BY U0."id" LIMIT 1)
         )
         self.assertEqual(str(a), 'Girl wins €12.500 in lottery')
 
