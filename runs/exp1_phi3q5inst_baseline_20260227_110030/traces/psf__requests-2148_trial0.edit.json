{
  "edits": [
    {
      "op": "replace_range",
      "path": "setup.py",
      "start_line": 1,
      "end_line": 1,
      "text": "import requests\nfrom requests.packages.urllib3.exceptions import MaxRetryError, TimeoutException\n\nclass CustomRetrySession(requests.Session):\n    def __init__(self, retries=3, backoff_factor=0.3, status_forcelist=(500, 502, 504), *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        self.retries = retries\n        self.backoff_factor = backoff_factor\n        self.status_forcelist = status_forcelist\n        self.mount('http://', HTTPAdapter(max_retries=self.retries, backoff_factor=self.backoff_factor))\n        self.mount('https://', HTTPAdapter(max_retries=self.retries, backoff_factor=self.backoff_factor))\n\n    def request(self, method, url, *args, **kwargs):\n        try:\n            response = super().request(method, url, *args, **kwargs)\n            response.raise_for_status()\n            return response\n        except (MaxRetryError, TimeoutException) as e:\n            print(f'Request failed: {e}')\n            return None\n\n    def dir_parse(self, response):\n        root = ElementTree.fromstring(response.text)\n        return root"
    }
  ]
}